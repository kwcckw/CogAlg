import numpy as np
from utils import imread

pixels = [
    # pure vertical edge
    np.array([[0, 50, 100, 150, 200],
              [0, 50, 100, 150, 200],
              [0, 50, 100, 150, 200],
              [0, 50, 100, 150, 200],
              [0, 50, 100, 150, 200]]),

    # pure horizontal edge
    np.array([[200, 200, 200, 200, 200],
              [150, 150, 150, 150, 150],
              [100, 100, 100, 100, 100],
              [ 50,  50,  50,  50,  50],
              [  0,   0,   0,   0,   0]]),

    # smiley image
    np.array([[255, 255,   0,   0,   0,   0,   0,   0, 255, 255],
              [255,   0, 255, 255, 255, 255, 255, 255,   0, 255],
              [  0, 255, 255, 255, 255, 255, 255, 255, 255,   0],
              [  0, 255,   0,   0, 255, 255,   0,   0, 255,   0],
              [  0, 255,   0,   0, 255, 255,   0,   0, 255,   0],
              [  0, 255, 255, 255, 255, 255, 255, 255, 255,   0],
              [  0, 255,   0, 255, 255, 255, 255,   0, 255,   0],
              [  0, 255, 255,   0,   0,   0,   0, 255, 255,   0],
              [255,   0, 255, 255, 255, 255, 255, 255,   0, 255],
              [255, 255,   0,   0,   0,   0,   0,   0, 255, 255]]),
]

gderts = [
    # pure vertical edge
    np.array([
        # p
        [[25, 75, 125, 175],
         [25, 75, 125, 175],
         [25, 75, 125, 175],
         [25, 75, 125, 175]],
        # g
        [[50, 50, 50, 50],
         [50, 50, 50, 50],
         [50, 50, 50, 50],
         [50, 50, 50, 50]],
        # dy
        [[0, 0, 0, 0],
         [0, 0, 0, 0],
         [0, 0, 0, 0],
         [0, 0, 0, 0]],
        # dx
        [[50, 50, 50, 50],
         [50, 50, 50, 50],
         [50, 50, 50, 50],
         [50, 50, 50, 50]],
    ]),

    # pure horizontal edge
    np.array([
        # p
        [[175, 175, 175, 175],
         [125, 125, 125, 125],
         [ 75,  75,  75,  75],
         [ 25,  25,  25,  25]],
        # g
        [[50, 50, 50, 50],
         [50, 50, 50, 50],
         [50, 50, 50, 50],
         [50, 50, 50, 50]],
        # dy
        [[-50, -50, -50, -50],
         [-50, -50, -50, -50],
         [-50, -50, -50, -50],
         [-50, -50, -50, -50]],
        # dx
        [[0, 0, 0, 0],
         [0, 0, 0, 0],
         [0, 0, 0, 0],
         [0, 0, 0, 0]],
    ]),

    # smiley image
    np.array([
        # p
        [[191.25, 127.5 , 127.5 , 127.5 , 127.5, 127.5 , 127.5 , 127.5 , 191.25],
         [127.5 , 191.25, 255   , 255   , 255  , 255   , 255   , 191.25, 127.5 ],
         [127.5 , 191.25, 127.5 , 191.25, 255  , 191.25, 127.5 , 191.25, 127.5 ],
         [127.5 , 127.5 ,   0   , 127.5 , 255  , 127.5 ,   0   , 127.5 , 127.5 ],
         [127.5 , 191.25, 127.5 , 191.25, 255  , 191.25, 127.5 , 191.25, 127.5 ],
         [127.5 , 191.25, 191.25, 255   , 255  , 255   , 191.25, 191.25, 127.5 ],
         [127.5 , 191.25, 127.5 , 127.5 , 127.5, 127.5 , 127.5 , 191.25, 127.5 ],
         [127.5 , 191.25, 191.25, 127.5 , 127.5, 127.5 , 191.25, 191.25, 127.5 ],
         [191.25, 127.5 , 127.5 , 127.5 , 127.5, 127.5 , 127.5 , 127.5 , 191.25]],
        # g
        [[180.3122,   0     , 255     , 255     , 255, 255     , 255     ,   0     , 180.3122],
         [  0     , 180.3122,   0     ,   0     ,   0,   0     ,   0     , 180.3122, 0       ],
         [255     , 180.3122, 255     , 180.3122,   0, 180.3122, 255     , 180.3122, 255     ],
         [255     , 255     ,   0     , 255     ,   0, 255     ,   0     , 255     , 255     ],
         [255     , 180.3122, 255     , 180.3122,   0, 180.3122, 255     , 180.3122, 255     ],
         [255     , 180.3122, 180.3122,   0     ,   0,   0     , 180.3122, 180.3122, 255     ],
         [255     , 180.3122,   0     , 255     , 255, 255     ,   0     , 180.3122, 255     ],
         [  0     , 180.3122, 180.3122, 255     , 255, 255     , 180.3122, 180.3122,   0     ],
         [180.3122,   0     , 255     , 255     , 255, 255     , 255     ,   0     , 180.3122]],
        # dy
        [[-127.5,    0  ,  255  ,  255  ,  255  ,  255  ,  255  ,    0  , -127.5],
         [   0  ,  127.5,    0  ,    0  ,    0  ,    0  ,    0  ,  127.5,    0  ],
         [   0  , -127.5, -255  , -127.5,    0  , -127.5, -255  , -127.5,    0  ],
         [   0  ,    0  ,    0  ,    0  ,    0  ,    0  ,    0  ,    0  ,    0  ],
         [   0  ,  127.5,  255  ,  127.5,    0  ,  127.5,  255  ,  127.5,    0  ],
         [   0  , -127.5, -127.5,    0  ,    0  ,    0  , -127.5, -127.5,    0  ],
         [   0  ,  127.5,    0  , -255  , -255  , -255  ,    0  ,  127.5,    0  ],
         [   0  , -127.5,  127.5,  255  ,  255  ,  255  ,  127.5, -127.5,    0  ],
         [ 127.5,    0  , -255  , -255  , -255  , -255  , -255  ,    0  ,  127.5]],
        # dx
        [[-127.5,    0  ,    0  ,    0  ,    0  ,    0  ,    0  ,    0  ,  127.5],
         [   0  ,  127.5,    0  ,    0  ,    0  ,    0  ,    0  , -127.5,    0  ],
         [ 255  , -127.5,    0  ,  127.5,    0  , -127.5,    0  ,  127.5, -255  ],
         [ 255  , -255  ,    0  ,  255  ,    0  , -255  ,    0  ,  255  , -255  ],
         [ 255  , -127.5,    0  ,  127.5,    0  , -127.5,    0  ,  127.5, -255  ],
         [ 255  , -127.5,  127.5,    0  ,    0  ,    0  , -127.5,  127.5, -255  ],
         [ 255  , -127.5,    0  ,    0  ,    0  ,    0  ,    0  ,  127.5, -255  ],
         [   0  ,  127.5, -127.5,    0  ,    0  ,    0  ,  127.5, -127.5,    0  ],
         [-127.5,    0  ,    0  ,    0  ,    0  ,    0  ,    0  ,    0  ,  127.5]],
    ]),
]

rderts = [
    # pure vertical edge
    np.array([
        # p
        [[50, 100, 150],
         [50, 100, 150],
         [50, 100, 150]],
        # g
        [[50, 50, 50],
         [50, 50, 50],
         [50, 50, 50]],
        # dy
        [[0, 0, 0],
         [0, 0, 0],
         [0, 0, 0]],
        # dx
        [[50, 50, 50],
         [50, 50, 50],
         [50, 50, 50]],
    ]),

    # pure horizontal edge
    np.array([
        # p
        [[150, 150, 150],
         [100, 100, 100],
         [50, 50, 50]],
        # g
        [[50, 50, 50],
         [50, 50, 50],
         [50, 50, 50]],
        # dy
        [[-50, -50, -50],
         [-50, -50, -50],
         [-50, -50, -50]],
        # dx
        [[0, 0, 0],
         [0, 0, 0],
         [0, 0, 0]],
    ]),

    # smiley image
    np.array([
        [[  0, 255, 255, 255, 255, 255, 255,   0],
         [255, 255, 255, 255, 255, 255, 255, 255],
         [255,   0,   0, 255, 255,   0,   0, 255],
         [255,   0,   0, 255, 255,   0,   0, 255],
         [255, 255, 255, 255, 255, 255, 255, 255],
         [255,   0, 255, 255, 255, 255,   0, 255],
         [255, 255,   0,   0,   0,   0, 255, 255],
         [  0, 255, 255, 255, 255, 255, 255,   0]],
        # g
        [[  0   ,  100.7976, 127.5   , 127.5   , 127.5   , 127.5   , 100.7976,   0    ],
         [63.75 ,   63.75  , 100.7976,  45.078 ,  45.078 , 100.7976,  63.75  ,  63.75 ],
         [45.078,  135.2342, 135.2342, 100.7976, 100.7976, 135.2342, 135.2342,  45.078],
         [45.078,  135.2342, 135.2342, 100.7976, 100.7976, 135.2342, 135.2342,  45.078],
         [63.75 ,   45.078 ,  90.1561,  45.078 ,  45.078 ,  90.1561,  45.078 ,  63.75 ],
         [63.75 ,   45.078 , 100.7976, 127.5   , 127.5   , 100.7976,  45.078 ,  63.75 ],
         [63.75 ,   45.078 ,  45.078 ,   0     ,   0     ,  45.078 ,  45.078 ,  63.75 ],
         [  0   ,   63.75  ,  45.078 ,   0     ,   0     ,  45.078 ,  63.75  ,   0    ]],
        # dy
        [[  0    ,   95.625,  127.5  ,  127.5  ,  127.5  ,  127.5  ,   95.625,   0    ],
         [  0    ,  -63.75 ,  -95.625,  -31.875,  -31.875,  -95.625,  -63.75 ,   0    ],
         [-31.875,  -95.625,  -95.625,  -31.875,  -31.875,  -95.625,  -95.625, -31.875],
         [ 31.875,   95.625,   95.625,   31.875,   31.875,   95.625,   95.625,  31.875],
         [  0    ,   31.875,   63.75 ,   31.875,   31.875,   63.75 ,   31.875,   0    ],
         [  0    ,  -31.875,  -95.625, -127.5  , -127.5  ,  -95.625,  -31.875,   0    ],
         [  0    ,   31.875,   31.875,    0    ,    0    ,   31.875,   31.875,   0    ],
         [  0    ,  -63.75 ,  -31.875,    0    ,    0    ,  -31.875,  -63.75 ,   0    ]],
        # dx
        [[ 0    ,  31.875,   0    ,   0    ,   0    ,   0    , -31.875,   0    ],
         [63.75 ,   0    ,  31.875,  31.875, -31.875, -31.875,   0    , -63.75 ],
         [31.875, -95.625,  95.625,  95.625, -95.625, -95.625,  95.625, -31.875],
         [31.875, -95.625,  95.625,  95.625, -95.625, -95.625,  95.625, -31.875],
         [63.75 , -31.875,  63.75 ,  31.875, -31.875, -63.75 ,  31.875, -63.75 ],
         [63.75 , -31.875,  31.875,   0    ,   0    , -31.875,  31.875, -63.75 ],
         [63.75 , -31.875, -31.875,   0    ,   0    ,  31.875,  31.875, -63.75 ],
         [ 0    ,   0    , -31.875,   0    ,   0    ,  31.875,   0    ,   0    ]],
    ]),
]

gderts = [gd[:, :-1, :-1] for gd in gderts] # adjust gdert shape

comp_pixel_test_pairs = [*zip(zip(pixels), zip(gderts, rderts))]